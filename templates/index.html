<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Samer & Cynthia's Wedding</title>

  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    /* ---------- Fonts ---------- */
    @font-face {
      font-family: 'Mathilde';
      src: url("/static/fonts/LetterEditorial.ttf") format("truetype");
      font-display: swap;
    }

    /* IMPORTANT: rename the file below if your Letter Editorial filename differs */
    @font-face {
      font-family: 'LetterEditorial';
      src: url("/static/fonts/LetterEditorial.ttf") format("truetype");
      font-display: swap;
    }

    /* ---------- Theme (black & white) ---------- */
    :root {
      --bg-color: #ffffff;
      --text-color: #000000;
      --accent-color: #000000;
      --muted-text: #666666;
      --border-color: #e0e0e0;
      --hover-bg: #f3f3f3;
    }

    /* ---------- Base Typography ---------- */
    html, body {
      padding: 0;
      margin: 0;
      background: var(--bg-color);
      color: var(--text-color);
      font-family: 'LetterEditorial', serif;
      font-variant-ligatures: none;
    }

    /* Headers use Mathilde */
    h1, h2, h3, h4, h5, h6 {
      font-family: 'Mathilde', serif;
      letter-spacing: 0.02em;
    }

    #rsvp {
      display: none;
    }
  
    /* Utility classes (optional) */
    .font-body { font-family: 'LetterEditorial', serif; }
    .font-header { font-family: 'Mathilde', serif; }
    .font-cursive { font-family: 'Great Vibes', cursive; }

    /* ---------- Navbar Links ---------- */
    nav ul li a {
      padding: 0.5rem 1rem;
      border-radius: 0.5rem;
      background-color: transparent;
      color: var(--text-color);
      transition: background-color 0.2s, opacity 0.2s;
      font-size: 1.2rem;
    }

    nav ul li a:hover {
      background-color: var(--hover-bg);
      opacity: 0.9;
    }

  /* FAQ question size */
  #faq ul li > strong {
    font-size: 1.15rem;
    line-height: 1.3;
  }
  @media (min-width: 768px) {
    #faq ul li > strong {
      font-size: 1.25rem;
    }
  }

  /* Mobile dropdown menu background slightly darker */
  @media (max-width: 768px) {
    #nav-menu {
      background-color: #f2f2f2 !important; /* slightly darker than pure white */
      border-bottom: 1px solid var(--border-color);
    }
  
    /* Slightly darker hover on mobile */
    nav ul li a:hover {
      background-color: #e6e6e6;
    }
  }

    /* --------- RSVP Button --------- */
  .floating-rsvp-btn {
    position: fixed;
    right: 24px;
    bottom: 24px;
    z-index: 9999;
  
    background: var(--bg-color);
    color: var(--text-color);
  
    border: 1px solid var(--text-color);
    padding: 10px 22px;
    border-radius: 999px;
  
    font-family: 'LetterEditorial', serif;
    font-size: 0.95rem;
    letter-spacing: 0.08em;
    text-transform: uppercase;
  
    text-decoration: none;
  
    box-shadow: 0 6px 18px rgba(0,0,0,0.08);
    transition: all 0.25s ease;
  }
  
  .floating-rsvp-btn:hover {
    background: var(--hover-bg);
    color: var(--text-color);
    transform: translateY(-1px);
  }
  
  /* Smooth scroll when clicking RSVP */
  html {
    scroll-behavior: smooth;
  }
  </style>
</head>

<body class="bg-[var(--bg-color)] text-[var(--text-color)]">

  <!-- NAVBAR -->
  <nav class="fixed top-0 w-full bg-[var(--bg-color)] text-[var(--text-color)] shadow z-50 border-b border-[var(--border-color)]">
  <div class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">

    <!-- Logo -->
    <div class="flex items-center justify-center shrink-0">
      <span class="text-xl font-bold tracking-wide">S & C</span>
    </div>

    <!-- Mobile toggle -->
    <button id="menu-toggle" class="md:hidden text-3xl font-bold">☰</button>

    <!-- Nav links -->
    <ul
      id="nav-menu"
      class="hidden md:flex items-center flex-nowrap
             gap-6
             absolute md:static
             bg-[var(--bg-color)] md:bg-transparent
             w-full md:w-auto
             left-0 top-16
             p-4 md:p-0
             z-50
             space-y-3 md:space-y-0"
    >
      <li><a href="#home" class="text-base tracking-wide font-body">Home</a></li>
      <li><a href="#rsvp" class="text-base tracking-wide font-body">RSVP</a></li>
      <li><a href="#details" class="text-base tracking-wide font-body">Details</a></li>
      <li><a href="#venue" class="text-base tracking-wide font-body">Venue</a></li>
      <li><a href="#photos" class="text-base tracking-wide font-body">Photos</a></li>
      <li><a href="#seating" class="text-base tracking-wide font-body">Seating</a></li>
      <li><a href="#gifts" class="text-base tracking-wide font-body">Gifts</a></li>
      <li><a href="#contact" class="text-base tracking-wide font-body">Contact</a></li>
      <li><a href="#faq" class="text-base tracking-wide font-body">FAQ</a></li>
    </ul>

  </div>
</nav>

  <script>
    const toggle = document.getElementById("menu-toggle");
    const menu = document.getElementById("nav-menu");
    toggle.addEventListener("click", () => {
      menu.classList.toggle("hidden");
    });
  </script>

  <!-- HERO SECTION -->
    <section id="home" class="relative h-screen w-full pt-24">
    <!-- Hero image at 30% opacity -->
    <img
      src="hero photo.jpg"
      alt="Wedding banner"
      class="absolute top-0 left-0 w-full h-full object-cover z-0 opacity-100"
    >
  
    <!-- Overlay content -->
    <div class="absolute inset-0 z-10 flex flex-col justify-center items-center text-center text-white px-4 pt-32 md:pt-48">
      <h1 class="text-4xl mb-2">Samer Dib</h1>
      <h1 class="text-4xl mb-2">&</h1>
      <h1 class="text-4xl mb-10">Cynthia Youwakim</h1>
  
      <p class="text-xl mb-4 font-body">Are Getting Married!</p>
  
      <p class="text-xl font-body">Saturday, June 20, 2026</p>
      <p class="text-xl font-body mb-8">Blanchic - Baabdath, Metn</p>
  
      <!-- Countdown BELOW the text -->
      <div id="countdown" class="flex flex-wrap gap-4 justify-center text-center font-body">
        <div class="px-4 py-3 rounded-base min-w-[90px] shadow">
          <div id="cd-days" class="text-lg font-semibold leading-none text-white">--</div>
          <div class="text-xs tracking-widest uppercase mt-1 text-white/70">Days</div>
        </div>
  
        <div class="px-4 py-3 rounded-base min-w-[90px] shadow">
          <div id="cd-hours" class="text-lg font-semibold leading-none text-white">--</div>
          <div class="text-xs tracking-widest uppercase mt-1 text-white/70">Hours</div>
        </div>
  
        <div class="px-4 py-3 rounded-base min-w-[90px] shadow">
          <div id="cd-mins" class="text-lg font-semibold leading-none text-white">--</div>
          <div class="text-xs tracking-widest uppercase mt-1 text-white/70">Minutes</div>
        </div>
  
        <div class="px-4 py-3 rounded-base min-w-[90px] shadow">
          <div id="cd-secs" class="text-lg font-semibold leading-none text-white">--</div>
          <div class="text-xs tracking-widest uppercase mt-1 text-white/70">Seconds</div>
        </div>
      </div>
    </div>
  </section>

  <!-- RSVP -->
  <section id="rsvp-locked" class="py-12 px-4 text-center text-lg">
    <h2 class="text-4xl text-center mb-10">RSVP</h2>
    <p>
      RSVP is available via your personal invitation link.
      <br>
      If you believe this is a mistake, please contact the couple.
    </p>
  </section>

  
  <section id="rsvp" class="py-12 px-4 bg-[var(--bg-color)] text-[var(--text-color)]">
    <h2 class="text-4xl text-center mb-10">RSVP</h2>
    <p id="rsvp-who" class="font-body text-2xl text-center mb-6"></p>
    <div class="max-w-2xl mx-auto">
      <div class="rounded-base border border-[var(--border-color)] bg-white/70 backdrop-blur-sm shadow-sm p-6 md:p-10">
        <p class="text-center font-body text-base mb-8 text-[var(--text-color)]/80">
          Please let us know if you'll be joining us. We can't wait to celebrate with you!
        </p>
  
        <form id="rsvp-form" class="space-y-6">
          <input type="hidden" id="inviteId" />
  
          <!-- Attending -->
          <div>
            <label for="attending" class="block font-body text-sm tracking-wide uppercase mb-2 text-[var(--text-color)]/80">
              Will you be attending?
            </label>
            <select
              id="attending"
              required
              class="w-full rounded-xl border border-[var(--border-color)] bg-white px-4 py-3 font-body text-sm
                     focus:outline-none focus:ring-2 focus:ring-[var(--text-color)]/30"
            >
              <option value="">Select an option</option>
              <option value="Yes">Yes, I'll be there</option>
              <option value="No">No, I can't make it</option>
            </select>
          </div>

          <div>
            <label for="numberattending" class="block font-body text-sm tracking-wide uppercase mb-2 text-[var(--text-color)]/80">
              Number attending
            </label>
            <label class="w-full rounded-xl border border-[var(--border-color)] bg-white px-4 py-3 font-body text-sm 
              focus:outline-none focus:ring-2 focus:ring-[var(--text-color)]/30">
              <input
                id="count"
                type="number"
                min="1"
                value="1"
                class="border p-2"
              >
            </label>
          </div>
          
          <!-- Dietary -->
          <div>
            <label for="dietary" class="block font-body text-sm tracking-wide uppercase mb-2 text-[var(--text-color)]/80">
              Dietary restrictions (optional)
            </label>
            <textarea
              id="dietary"
              rows="4"
              placeholder="e.g., vegetarian, allergy..."
              class="w-full rounded-xl border border-[var(--border-color)] bg-white px-4 py-3 font-body text-sm
                     focus:outline-none focus:ring-2 focus:ring-[var(--text-color)]/30"
            ></textarea>
          </div>
  
          <!-- Submit -->
          <div class="pt-2 flex justify-center">
            <button
              type="submit"
              class="rounded-full px-8 py-3 font-body text-base tracking-wide
                     border border-[var(--text-color)] text-[var(--text-color)]
                     hover:bg-[var(--text-color)] hover:text-white transition"
            >
              Submit RSVP
            </button>
          </div>
  
          <!-- Optional tiny note -->
          <p class="text-center text-sm font-body text-[var(--text-color)]/70 pt-2">
            If you have any questions, check the FAQ or contact us.
          </p>
        </form>
      </div>
    </div>
  </section>

  <div class="flex items-center justify-center my-12">
    <hr class="border-t w-1/4" style="border-color: var(--text-color);">
    <span class="mx-4 text-xl text-[var(--text-color)] font-body">S & C</span>
    <hr class="border-t w-1/4" style="border-color: var(--text-color);">
  </div>

  <!-- DETAILS -->
  <section id="details" class="py-12 px-4 bg-[var(--bg-color)] text-[var(--text-color)]">
    <h2 class="text-4xl text-center space-y-6 mb-6">Wedding Details</h2>
    <ul class="text-base text-center space-y-4 font-body">
      <li><strong>Date:</strong> Saturday, June 20, 2026</li>
      <li><strong>Location:</strong> Blanchic - Baabdath, Metn</li>
      <li><strong>Schedule:</strong></li>
      <li>Ceremony at 6:00pm</li>
      <li>Welcome drinks at 7:00pm</li>
      <li>Reception at 8:00pm</li>
    </ul>
  </section>

  <div class="flex items-center justify-center my-12">
    <hr class="border-t w-1/4" style="border-color: var(--text-color);">
    <span class="mx-4 text-xl text-[var(--text-color)] font-body">S & C</span>
    <hr class="border-t w-1/4" style="border-color: var(--text-color);">
  </div>

  <!-- VENUE -->
  <section id="venue" class="py-12 px-4 bg-[var(--bg-color)] text-[var(--text-color)]">
    <h2 class="text-4xl text-center mb-6">Venue</h2>
  
    <!-- 4xl width container -->
    <div class="max-w-4xl mx-auto text-base text-center space-y-6 font-body">
  
      <p class="mb-6">
        Our celebration will take place at <strong>Blanchic</strong>, an outdoor venue in the mountains of Baabdath, Lebanon.
      </p>
  
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
        <img
          src="https://tse2.mm.bing.net/th/id/OIP.mcDDZkB4FOO6fHy-latrPAHaHa?pid=Api"
          alt="Venue photo 1"
          class="w-full rounded shadow"
        >
        <img
          src="https://tse3.mm.bing.net/th/id/OIP.QIUajzugTx5qVZtGdBktCAHaHa?pid=Api"
          alt="Venue photo 2"
          class="w-full rounded shadow"
        >
      </div>
  
      <ul class="mb-8 text-left list-disc list-inside">
        <li>Valet Parking Available</li>
      </ul>
  
      <div class="w-full h-96">
        <iframe
          class="w-full h-full rounded"
          frameborder="0"
          scrolling="no"
          marginheight="0"
          marginwidth="0"
          src="https://maps.google.com/maps?q=blanchic%20baabdath&t=&z=15&ie=UTF8&iwloc=&output=embed">
        </iframe>
      </div>
  
    </div>
  </section>

  <div class="flex items-center justify-center my-12">
    <hr class="border-t w-1/4" style="border-color: var(--text-color);">
    <span class="mx-4 text-xl text-[var(--text-color)] font-body">S & C</span>
    <hr class="border-t w-1/4" style="border-color: var(--text-color);">
  </div>

  <!-- PHOTOS -->
  <section id="photos" class="py-12 px-4 bg-[var(--bg-color)] text-[var(--text-color)]">
    <h2 class="text-4xl text-center space-y-6 mb-6">Photos</h2>
    <div class="text-base text-center font-body">
      <p class="mb-6">Upload your wedding photos here:</p>
      <a href="photos.html" class="text-base underline text-[var(--text-color)] hover:opacity-70">Go to Photo Upload</a>
    </div>
  </section>

  <div class="flex items-center justify-center my-12">
    <hr class="border-t w-1/4" style="border-color: var(--text-color);">
    <span class="mx-4 text-xl text-[var(--text-color)] font-body">S & C</span>
    <hr class="border-t w-1/4" style="border-color: var(--text-color);">
  </div>

  <section id="seating" class="py-12 px-4 bg-[var(--bg-color)] text-[var(--text-color)]">
    <h2 class="text-4xl text-center space-y-6 mb-6">Table Seating</h2>
    <p class="text-base text-center italic">Seating arrangement will be shared as the date approaches.</p>
  </section>
  
  <div class="flex items-center justify-center my-12">
    <hr class="border-t w-1/4" style="border-color: var(--text-color);">
    <span class="mx-4 text-xl text-[var(--text-color)] font-body">S & C</span>
    <hr class="border-t w-1/4" style="border-color: var(--text-color);">
  </div>

  <!-- GIFTS -->
  <section id="gifts" class="py-12 px-4 bg-[var(--bg-color)] text-[var(--text-color)]">
    <h2 class="text-4xl text-center space-y-6 mb-6">Gift Registry</h2>
    <div class="text-base text-center space-y-6 font-body">
      <p>Your presence is the best gift!</p>
      <p>If you'd still like to contribute, here are our registry details:</p>
      <p><strong>Registry Link:</strong> (Add link here)</p>
    </div>
  </section>

  <div class="flex items-center justify-center my-12">
    <hr class="border-t w-1/4" style="border-color: var(--text-color);">
    <span class="mx-4 text-xl text-[var(--text-color)] font-body">S & C</span>
    <hr class="border-t w-1/4" style="border-color: var(--text-color);">
  </div>

  <!-- CONTACT -->
  <section id="contact" class="py-12 px-4 bg-[var(--bg-color)] text-[var(--text-color)]">
    <h2 class="text-4xl text-center space-y-6 mb-6">Contact Us</h2>

    <div class="text-base text-center space-y-6 font-body">
      <p>Cynthia Youwakim - +961 81687547</p>
      <p>Samer Dib - +961 70821225</p>
      <div class="h-4"></div>
      <p>Joelle Salamoun - +44 7923812581</p>
    </div>
  </section>
  
  <div class="flex items-center justify-center my-12">
    <hr class="border-t w-1/4" style="border-color: var(--text-color);">
    <span class="mx-4 text-xl text-[var(--text-color)] font-body">S & C</span>
    <hr class="border-t w-1/4" style="border-color: var(--text-color);">
  </div>

  <section id="faq" class="py-12 px-4 bg-[var(--bg-color)] text-[var(--text-color)]">
  <h2 class="text-4xl text-center mb-10">Frequently Asked Questions</h2>
  <ul class="max-w-4xl mx-auto space-y-8 text-base font-body">
    <li>
      <strong>Can I bring a plus one?</strong>
      <p class="mt-2">
        Please refer to your invitation for plus-one details. If your invite includes a plus one, it will be clearly indicated when you RSVP. 
        Unfortunately, we're unable to accommodate additional guests beyond those listed.
      </p>
    </li>
    <li>
      <strong>What time should I arrive?</strong>
      <p class="mt-2">
        We recommend arriving about 15-30 minutes before the ceremony begins to allow time for parking and seating.
        The ceremony will start promptly at <strong>6:00 PM</strong>. Full schedule details can be found in the Details section.
      </p>
    </li>
    <li>
      <strong>What will the weather be like?</strong>
      <p class="mt-2">
        It's summertime, so we're hoping for a bright and sunny day! That said, evenings can become cooler, 
        so we suggest bringing a light jacket or shawl just in case.
      </p>
    </li>
    <li>
      <strong>Who should I contact if I have questions?</strong>
      <p class="mt-2">
        If you have any questions leading up to the wedding, feel free to reach out to the bride or groom. 
        You may also contact anyone in the wedding party for assistance.
      </p>
    </li>
    <li>
      <strong>Is the wedding indoors or outdoors?</strong>
      <p class="mt-2">
        Both the ceremony and reception will take place entirely outdoors. 
        Please plan accordingly for the weather and terrain.
      </p>
    </li>
    <li>
      <strong>Where should I park?</strong>
      <p class="mt-2">
        Valet parking will be available at the venue for your convenience. 
        No tipping is necessary for the valet staff.
      </p>
    </li>
    <li>
      <strong>Is the venue accessibility-friendly?</strong>
      <p class="mt-2">
        Yes! The venue is fully accessible, with no stairs or steep inclines. 
        If you have specific accessibility needs, please let us know in advance so we can assist.
      </p>
    </li>
    <li>
      <strong>What should I wear?</strong>
      <p class="mt-2">
        The dress code is <strong>formal attire</strong>. We encourage elegant evening wear.
        Ladies-consider bringing an extra pair of comfortable shoes for all the dancing we have planned!
      </p>
    </li>
  </ul>
</section>


  <a id="floating-rsvp-btn" href="#rsvp" class="floating-rsvp-btn">RSVP Here</a>

  <script>
    // Set your wedding date/time here (local time)
    // If ceremony starts at 6pm, set "18:00:00"
    const WEDDING_DATE = new Date("2026-06-20T18:00:00"); 
  
    const elDays = document.getElementById("cd-days");
    const elHours = document.getElementById("cd-hours");
    const elMins = document.getElementById("cd-mins");
    const elSecs = document.getElementById("cd-secs");
  
    function pad2(n) {
      return String(n).padStart(2, "0");
    }
  
    function updateCountdown() {
      const now = new Date();
      let diff = WEDDING_DATE - now;
  
      if (diff <= 0) {
        elDays.textContent = "0";
        elHours.textContent = "00";
        elMins.textContent = "00";
        elSecs.textContent = "00";
        return;
      }
  
      const totalSeconds = Math.floor(diff / 1000);
      const days = Math.floor(totalSeconds / (60 * 60 * 24));
      const hours = Math.floor((totalSeconds / (60 * 60)) % 24);
      const mins = Math.floor((totalSeconds / 60) % 60);
      const secs = Math.floor(totalSeconds % 60);
  
      elDays.textContent = days;
      elHours.textContent = pad2(hours);
      elMins.textContent = pad2(mins);
      elSecs.textContent = pad2(secs);
    }
  
    updateCountdown();
    setInterval(updateCountdown, 1000);
  </script>

<script>
  (function () {
    const API_URL =
      "https://script.google.com/macros/s/AKfycbwsirLUdeG6hmSgg757OyJQzy9ltVLLOF_8MdXlzcMGizR0kIoQFWKBiqqGHZYgYeTD/exec";

    const whoEl = document.getElementById("rsvp-who");
    const inviteEl = document.getElementById("inviteId");
    const countEl = document.getElementById("count");
    const rsvpSection = document.getElementById("rsvp");
    const lockedSection = document.getElementById("rsvp-locked");
    const floatingBtn = document.getElementById("floating-rsvp-btn");

    const urlParams = new URLSearchParams(window.location.search);
    const hashQuery = window.location.hash.includes("?")
      ? window.location.hash.split("?")[1]
      : "";
    const hashParams = new URLSearchParams(hashQuery);

    const invite = (urlParams.get("invite") || hashParams.get("invite") || "").trim();

    function setLocked(isLocked) {
      if (isLocked) {
        rsvpSection.style.display = "none";
        lockedSection.style.display = "block";
        if (floatingBtn) floatingBtn.style.display = "none";
        if (whoEl) whoEl.textContent = "";
      } else {
        rsvpSection.style.display = "block";
        lockedSection.style.display = "none";
        if (floatingBtn) floatingBtn.style.display = "inline-flex";
        if (inviteEl) inviteEl.value = invite;
      }
    }

    if (!invite) {
      setLocked(true);
      return;
    }

    setLocked(false);
    if (whoEl) whoEl.textContent = "Loading your invitation…";

    // IMPORTANT: fixed global callback name
    window.handleInviteLookup = (data) => {
      console.log("[RSVP] callback fired:", data);

      if (!data || !data.success) {
        whoEl.textContent = "Invite not found. Please use the link you were sent.";
        return;
      }

      whoEl.textContent = `RSVP for: ${data.name || ""}`;

      const max = Number(data.maxPartySize || 1);
      if (countEl) {
        countEl.max = String(max);
        if (!countEl.value) countEl.value = "1";
        if (Number(countEl.value) > max) countEl.value = String(max);
      }
    };

    const s = document.createElement("script");
    s.src = `${API_URL}?inviteId=${encodeURIComponent(invite)}&callback=handleInviteLookup&_ts=${Date.now()}`;

    // Don't show "failed" on script.onerror yet; use a timeout fallback instead
    document.body.appendChild(s);

    // Fallback: if callback doesn't fire in 3s, show error
    setTimeout(() => {
      // If still showing loading text, we never got a callback
      if (whoEl && whoEl.textContent.includes("Loading")) {
        whoEl.textContent = "Could not load invite details. Please refresh.";
      }
    }, 3000);
  })();
</script>

<script>
  (function () {
    const POST_URL =
      "https://script.google.com/macros/s/AKfycbwsirLUdeG6hmSgg757OyJQzy9ltVLLOF_8MdXlzcMGizR0kIoQFWKBiqqGHZYgYeTD/exec";

    const form = document.getElementById("rsvp-form");
    const whoEl = document.getElementById("rsvp-who");

    if (!form) return;

    // status message element (created once)
    let statusEl = document.getElementById("rsvp-status");
    if (!statusEl) {
      statusEl = document.createElement("p");
      statusEl.id = "rsvp-status";
      statusEl.className = "text-center font-body text-sm pt-3";
      form.appendChild(statusEl);
    }

    form.addEventListener("submit", async (e) => {
      e.preventDefault(); // <<<<<< stops the page “redirect/reload”

      const inviteId = (document.getElementById("inviteId")?.value || "").trim();
      const attending = (document.getElementById("attending")?.value || "").trim();
      const dietary = (document.getElementById("dietary")?.value || "").trim();
      const count = Number(document.getElementById("count")?.value || 1);

      if (!inviteId) {
        statusEl.textContent = "Missing invite id. Please use your personal link.";
        return;
      }
      if (!attending) {
        statusEl.textContent = "Please select whether you are attending.";
        return;
      }

      statusEl.textContent = "Submitting...";

      try {
        const res = await fetch(POST_URL, {
          method: "POST",
          mode: "cors",
          headers: {
            "Content-Type": "text/plain;charset=utf-8"
          },
          body: JSON.stringify({ inviteId, attending, count, dietary }),
        });

        const text = await res.text();
        let data;
        try { data = JSON.parse(text); } catch { data = null; }

        if (!res.ok || !data || data.success !== true) {
          console.error("RSVP submit failed:", res.status, text);
          statusEl.textContent = "Could not submit RSVP. Please try again.";
          return;
        }

        statusEl.textContent = "RSVP submitted! Thank you.";

        // optional: disable after submit
        // form.querySelectorAll("input, select, textarea, button").forEach(el => el.disabled = true);

      } catch (err) {
        console.error(err);
        statusEl.textContent = "Network error while submitting. Please try again.";
      }
    });
  })();
</script>

  
</body>
</html>
